{"version":3,"sources":["ProductDetails.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAII,4BAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,oIAClB,KADkB,EACX,OADW;;AAExB,cAAK,KAAL,GAAa;AACT,qBAAS,OAAO,MAAP,CAAc,EAAd,EAAkB,MAAK,KAAL,CAAW,OAA7B,CADA;AAET,oBAAQ;AAFC,SAAb;AAIA,YAAM,QAAQ,MAAK,OAAL,CAAa,KAA3B;AACA,cAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB;AACA,cAAK,OAAL,GAAe,MAAK,OAAL,CAAa,IAAb,OAAf;AACA;AATwB;AAU3B;;;;kCAES,K,EAAO;AACb,gBAAM,QAAQ,MAAM,MAAN,CAAa,IAA3B;AACA,gBAAI,UAAU,KAAK,KAAL,CAAW,OAAzB;AACA,oBAAQ,KAAR,IAAiB,MAAM,MAAN,CAAa,KAA9B;AACA,mBAAO,KAAK,QAAL,CAAc,EAAC,SAAS,OAAV,EAAd,CAAP;AACH;;;gCAEO,K,EAAO;AACX,oBAAQ,GAAR,CAAY,KAAZ;AACA,kBAAM,cAAN;AACA,iBAAK,KAAL,CAAW,OAAX,CAAmB,QAAnB,CAA4B,KAAK,KAAL,CAAW,OAAvC;AACA,gBAAG,SAAS,KAAK,KAAL,CAAW,OAAX,CAAmB,YAA5B,IAA4C,SAAS,KAAK,KAAL,CAAW,OAAX,CAAmB,YAA5B,CAA/C,EAAyF;AACrF,iCAAO,OAAP,CAAe,WAAf;AACH,aAFD,MAGI;AACA,iCAAO,KAAP,CAAa,kDAAb;AACH;AACJ;;;iCAEQ;AACL,gBAAI,YAAJ;AACA,mBACI;AACI,yBAAW,KAAK,KAAL,CAAW,OAD1B;AAEI,wBAAU,KAAK,OAFnB;AAGI,2BAAa,KAAK;AAHtB,cADJ;AAOH;;;;EAzCwB,gBAAM,S;;AA4CnC,eAAe,YAAf,GAA8B;AAC1B,YAAS,kBAAU,MADO;AAE1B,WAAO,gBAAM,SAAN,CAAgB,MAAhB,CAAuB;AAFJ,CAA9B;;AAKA,SAAS,gBAAT,CAA0B,QAA1B,EAAoC,WAApC,EAAiD;AAC7C,QAAM,UAAU,SAAS,MAAT,CAAgB;AAAA,eAAW,QAAQ,IAAR,IAAgB,WAA3B;AAAA,KAAhB,CAAhB;AACA,QAAG,QAAQ,MAAX,EAAmB,OAAO,QAAQ,CAAR,CAAP;AACnB,WAAO,IAAP;AACH;AACD,SAAS,eAAT,CAAyB,KAAzB,EAAgC,QAAhC,EAA0C;AACtC,QAAM,cAAc,SAAS,MAAT,CAAgB,WAApC,CADsC,CACW;AACjD,QAAI,UAAU,EAAC,MAAM,EAAP,EAAW,aAAa,EAAxB,EAAd;AACA,QAAG,eAAe,MAAM,QAAN,CAAe,MAAf,GAAwB,CAA1C,EAA6C;AACzC,kBAAU,iBAAiB,MAAM,QAAvB,EAAiC,WAAjC,CAAV;AACH;AACD,WAAO;AACH,iBAAS;AADN,KAAP;AAGH;;AAED,SAAS,kBAAT,CAA4B,QAA5B,EAAsC;AAClC,WAAO;AACH,iBAAS,+BAAmB,EAAC,kCAAD,EAAnB,EAA+B,QAA/B;AADN,KAAP;AAGH;;kBAEc,yBAAQ,eAAR,EAAyB,kBAAzB,EAA6C,cAA7C,C","file":"ProductDetails-compiled.js","sourcesContent":["import React, {PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport ProductDescription from './ProductDescription';\nimport  {saveBids} from '../../actions/productActions';\nimport iphone from '../../resources/images/iphone7.png';\nimport galaxy from '../../resources/images/s7edge.png';\nimport toastr from 'toastr';\n\n\nclass ProductDetails extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            product: Object.assign({}, this.props.product),\n            saving: false\n        };\n        const store = this.context.store;\n        this.updateBid = this.updateBid.bind(this);\n        this.saveBid = this.saveBid.bind(this);\n        //store.dispatch(loadAuthors());\n    }\n\n    updateBid(event) {\n        const field = event.target.name;\n        let product = this.state.product;\n        product[field] = event.target.value;\n        return this.setState({product: product});\n    }\n\n    saveBid(event) {\n        console.log(event);\n        event.preventDefault();\n        this.props.actions.saveBids(this.state.product);\n        if(parseInt(this.props.product.currentPrice) < parseInt(this.state.product.currentPrice)){\n            toastr.success('Bid Saved');\n        }\n        else{\n            toastr.error('Bid amount should be more than the current price');\n        }\n    };\n\n    render() {\n        let arr;\n        return (\n            <ProductDescription\n                product = {this.props.product}\n                onSave = {this.saveBid}\n                updateBid = {this.updateBid}\n            />\n        );\n    }\n}\n\nProductDetails.contextTypes = {\n    router : PropTypes.object,\n    store: React.PropTypes.object.isRequired\n};\n\nfunction getProductByName(products, productName) {\n    const product = products.filter(product => product.name == productName);\n    if(product.length) return product[0];\n    return null;\n}\nfunction mapStateToProps(state, ownProps) {\n    const productName = ownProps.params.productName; //from Path\n    let product = {name: '', imageSource: ''};\n    if(productName && state.products.length > 0) {\n        product = getProductByName(state.products, productName);\n    }\n    return {\n        product: product,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({saveBids}, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);"]}